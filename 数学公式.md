### 4.3 多算法统计指标计算

本节统一给出各评价指标的定义、公式、单位和数据口径，确保统计含义一致且可复现。

* **数据口径（统一说明）**

  * 仅使用"已匹配按键对"（matched_pairs）。

  * 单个样本的带符号偏差定义为：

    $$x_i = \mathrm{replay\_keyon}_i - \mathrm{record\_keyon}_i（内部单位0.1ms，展示时除以10为ms）。$$

    **变量含义：**
    - \(x_i\): 第i个样本的带符号偏差（重放按键时间减去录制按键时间）
    - \(\mathrm{replay\_keyon}_i\): 第i个重放按键的按下时间
    - \(\mathrm{record\_keyon}_i\): 第i个录制按键的按下时间

* 不纳入未匹配样本（丢锤/多锤/不发声）。

* **总体均值**

  * **定义**：带符号的平均偏差

  * **公式**：

    $${ME} = \frac{1}{n} \sum_{i=1}^{n} x_i$$

    **变量含义：**
    - \(ME\): Mean Error，平均误差（总体均值）
    - \(n\): 样本数量（已匹配按键对的数量）
    - \(x_i\): 第i个样本的带符号偏差

* **总体****方差****（Population** **Variance****）**

  * **定义**：以 (n) 为分母的方差，刻画离散程度（带符号样本）。

  * **公式**：

    $$\sigma^2 = {\frac{1}{N} \sum_{i=1}^{N} (x_i - \mu)^2}$$

    **变量含义：**
    - \(\sigma^2\): 总体方差
    - \(N\): 总体样本数量
    - \(x_i\): 第i个样本的带符号偏差
    - \(\mu\): 总体均值（即ME）

* **总体****标准差****（Population** **Standard Deviation****）**

  * **定义**：总体方差的平方根。

  * **公式**：

    $$\sigma = \sqrt{\frac{1}{N} \sum_{i=1}^{N} (x_i - \mu)^2}$$

    **变量含义：**
    - \(\sigma\): 总体标准差
    - \(N\): 总体样本数量
    - \(x_i\): 第i个样本的带符号偏差
    - \(\mu\): 总体均值（即ME）

* **平均绝对误差****（MAE，Mean Absolute Error）**

  * **定义**：偏差绝对值的平均，衡量平均偏差规模

  * **公式**：

    $$[ \mathrm{MAE} = \frac{1}{n} \sum_{i=1}^{n} |x_i| ]$$

    **变量含义：**
    - \(MAE\): Mean Absolute Error，平均绝对误差
    - \(n\): 样本数量（已匹配按键对的数量）
    - \(x_i\): 第i个样本的带符号偏差
    - \(|x_i|\): 第i个样本偏差的绝对值

* **均方根误差****（RMSE，Root** **Mean Squared Error****）**

  * **定义**：衡量观测时间偏差相对于理想零偏差的均方根误差，更敏感于大误差。

  * **公式**：

    $$RMSE = \sqrt{\frac{1}{n}\sum_{i=1}^{n}x_i^2}$$

    **变量含义：**
    - \(RMSE\): Root Mean Square Error，均方根误差
    - \(n\): 样本数量（已匹配按键对的数量）
    - \(x_i\): 第i个观测到的校准后时间偏差值（corrected_offset，单位：0.1ms）

    **注**：在此项目中，RMSE衡量的是实际观测的时间偏差相对于理想零偏差的误差，即公式中的 \(\hat{x}_i = 0\)（理想预测值）被省略。
